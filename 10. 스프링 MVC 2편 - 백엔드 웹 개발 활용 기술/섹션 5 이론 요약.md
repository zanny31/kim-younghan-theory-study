# 요약 



# 검증 
- 웹 서비스에서 검증 오류가 발생하면 오류 화면으로 바로 이동하는 것이 아닌 고객이 입력한 데이터를 유지한 채로 어떤 오류가 발생했는지 친절하게 알려줘야 한다. 
- 그렇지 않으면 고객 이탈 가능성 증가 
- 컨트롤러의 중요한 역할 중 하나는 HTTP 요청이 정상인지 검증하는 것도 있다. 
- 어쩌면 정상 로직보다 이러한 검증 로직을 잘 개발하는 것이 더 어려울 수 있음 

### 클라이언트 검증 vs 서버 검증
- 클라이언트 검증은 조작이 가능하므로 보안에 취약 
- 서버 검증은 즉각적인 고객 사용성 부족 
- 둘을 적절히 섞어서 사용하되 서버 검증 필수 
- API 방식 사용 시 API 스펙 잘 정리해서 검증 오류를 API 응답 결과에 잘 넘겨줘야 함 



# 검증 처리 
- `실패 -> 에러 페이지`로 넘어가는 것이 아니라, 기존의 `데이터 + 검증 오류 결과`를 합친 후 `기존의 페이지로 전달`되어 다시 렌더링 되어야 한다. 


# 검증 로직 개발 
### version 1 프로젝트 
- 오류 결과 보관하는 Map 생성 
- 검증이 필요한 상황에 대한 조건 로직 구현 
- 에러 객체는 Map에 저장 
  ```
    Map<String, String> errors = new HashMap<>();
    if(!StringUtils.hasText(item.getItemName())){
        errors.put("itemName","상품 이름은 필수입니다.");
    }
  ```
- 타임리프로 다음과 같이 확인 가능 
    ```
        <div th:if="${errors?.containsKey('globalError')}"> 
    ```
